<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sonntag, April 22, 2012, 2:56  -->
<!-- MuClient version 4.75 -->

<!-- Plugin "avalon" generated by Plugin Wizard -->

<muclient>
<plugin
   name="avalon"
   author="Magician, Dranor, Chiaray"
   id="02dade4f6131c8d67e85c7ee"
   language="Lua"
   save_state="n"
   date_written="2014-02-07 09:28:30"
   requires="4.70"
   version="1.0"
   >

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Triggers  -->

<triggers>
  <trigger
   enabled="n"
   group="Magier"
   match="Dein * flackert heftig auf, lange wird * Dich wohl nicht mehr"
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/flicker.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du beginnst, Deine Haende auf mystische Art und Weise zu bewegen."
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/ArkanShield1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Zwischen Deinen Haenden entsteht eine leuchtende Wolke, die sich immer mehr"
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/ArkanShield2.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Die Wolke verteilt sich auf Deinen gesamten Koerper."
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/ArkanShield3.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du wirst von einem Arkanschild umgeben."
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/ArkanShieldOn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Dein Arkanschild loest sich auf."
   send_to="12"
   sequence="100"
  >
  <send>psnd("spells/ArkanShieldOff.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du nimmst Deinen Fokuskristall zur Hand und beginnst Dich zu konzentrieren."
   send_to="12"
   sequence="100"
  >
  <send>hdksnd=psnd("demon_warriors/crystalfocus.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du spuerst den Widerstand des Daemons auf Deinen Willen *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demoncommand.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du tastest telepathisch nach dem Bewusstsein von * und *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demoncontrol.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="^Du oeffnest Deine Augen.*$|^Du oeffnest in dem Moment Deine Augen als.*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demonexecute.ogg")
        Audio.fadeout(hdksnd,1000)</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du reibst Dir Deine Schlaefen um den pochenden Schmerz zu vertreiben.*"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demoncounter.ogg")
        Audio.fadeout(hdksnd,1000)</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="* schreit hasserfuellt auf und will sich *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demondisappear.ogg")
        Audio.fadeout(hdksnd,1000)</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Dein Fokuskristall leuchtet auf und ein Portal zu einer anderen *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/portalappear.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du starrst den * mit festem Blick an."
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/crystallight.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du nimmst Deinen Fokuskristall fest in Deine freie Hand, deutest*"
   send_to="12"
   sequence="100"
  >
  <send>hdksnd=psnd("demon_warriors/crystalfocus.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du schlaegst ruckartig Deinen Fokuskristall *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demonappear.ogg")
        Audio.fadeout(hdksnd,1000)</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du schliesst die Augen und sendest einen telepathischen Ruf *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/demoncall.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du konzentrierst Dich auf Deinen Kristall welcher in einem *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("demon_warriors/crystallight.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du nimmst Deinen Fokuskristall in beide Haende."
   send_to="12"
   sequence="100"
  >
  <send>hdksnd=psnd("demon_warriors/crystalfocus.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Du schliesst Deine Augen, konzentrierst Dich und verbannst *"
   send_to="12"
   sequence="100"
  >
  <send>world.Execute("daemonenliste")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match='^Dein\sFokuskristall\sblitzt\skurz\sauf\sund\sder\sName\s\"(.*)\"\szuckt\,\sverbunden\smit\sdem\sAbbild\seines\s(.*)\sdurch\sDeine\sGedanken\.\Z'
   multi_line="y"
   lines_to_match="2"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>dk_insertname("%1",string.sub("%2",1,-2))</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Einen\s+(Krasit|Sensal|Bullrik|Azmarog),\s+namens\s+(\w+)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>dk_insertname("%2","%1")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Daemonenkrieger"
   match="Im Moment kennst Du folgende Daemonen"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>dk_reset()</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="* hat damit * Punkte erreicht und gewonnen!"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/loose.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du hast * Punkte erreicht und damit gewonnen. Herzlichen Glueckwunsch!"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/win.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Damit ist dieses Spiel beendet."
   send_to="12"
   sequence="95"
  >
  <send>world.EnableGroup("Spiele_Hajo",0)</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match=".* scheint etwas unaufmerksam gewesen zu sein.*|Du bist etwas unaufmerksam und bemerkst nicht.*"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/dicefail.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du kannst in diesem 2. Zug nichts herauslegen *"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/secondturn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match=".* bekommt insgesamt .* Punkte gutgeschrieben. Der Joker.*|Du bekommst insgesamt .* Punkte gutgeschrieben. Du hattest.*"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/writejoker.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du setzt Deinen Joker\.|.* setzt seinen Joker\."
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/joker.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du konntest auch nach drei Zuegen noch keine Punkte machen\.|.* konnte auch nach drei Zuegen noch keine Punkte machen\."
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/nowrite.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Nun bist Du an der Reihe."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/yourturn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du bekommst insgesamt .* Punkte gutgeschrieben\.|.* bekommt insgesamt .* Punkte gutgeschrieben\."
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/write.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du konntest mit allen rausgelegten Wuerfeln Punkte machen .*|.* konnte alle Wuerfel rauslegen und hat nun aufs neue 3 Zuege.*"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/again.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du legst .* raus\.|.* legt .* raus\."
   regexp="y"
   send_to="12"
   sequence="94"
  >
  <send>psnd("Games/Hajo/collect.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Spiele_Hajo"
   match="Du wuerfelst .*|.* wuerfelt .*"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Games/Hajo/dice.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Alle angegebenen Spieler sind da, also kann's ja losgehen."
   send_to="12"
   sequence="95"
  >
  <send>world.EnableGroup("Spiele_Hajo",1)</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du peilst mit Deinem Sextanten * an, und kannst schon nach"
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="kurzer Zeit .* Position ausmachen\. Du gruebelst noch ein wenig.*"
   regexp="y"
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match=".*schliesslich zu folgendem Ergebnis:"
   regexp="y"
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Ok, ASCII-Grafiken werden nun nicht mehr vermieden."
   send_to="12"
   sequence="95"
  >
  <send>config_graphics(true)</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ok, ASCII-Grafiken werden nun moeglichst vermieden."
   send_to="12"
   sequence="95"
  >
  <send>config_graphics(false)</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein letzter Logout war am *"
   send_to="12"
   sequence="95"
  >
  <send>OnAvalonLogin()</send>
  </trigger>
  <trigger
   enabled="y"
   match="KRAACK. Uh, oh. Das klang nicht gut. Vielleicht solltest Du *"
   sequence="102"
   send_to="12"
  >
  <send>psnd("Items/ArmorBreak.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du holst kraeftig mit Deiner Angel aus und wirfst den Koeder weit *"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Fishing/FishCast.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das muss ein .* Fisch sein, der da angebissen hat."
   send_to="12"
   sequence="100"
   regexp="y"
  >
  <send>psnd("Fishing/Fish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mist. Du stellst Dich viel zu ungeschickt an, .*"
   send_to="12"
   sequence="100"
   regexp="y"
  >
  <send>psnd("Fishing/FishEscape.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du hast einen schoenen Fisch geangelt."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Fishing/FishCatch.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du ziehst mit Leibeskraeften an der Angel, um den Fisch aus dem Wasser zu"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Fishing/FishLinePull.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein blaeulich-silberner, getragener Ring entfaltet nun seine Wirkung."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/Rings/Bonus.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein blaeulich-silberner, getragener Ring leuchtet kurz auf."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/Rings/Bonus.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Gratulation! Du hast eine Tagesaufgabe geloest."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/DailyTask.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Gratulation! Du hast eine Wochenaufgabe geloest."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/WeeklyTask.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Gratulation! Du hast eine Aktionsaufgabe geloest."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/SpecialTask.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Besonderes Glueck!"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Misc/DayGift.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bist soeben gestorben."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Player/Die.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein weisser Schatten fliegt gen Himmel."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Player/Die.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine heilige Macht umgibt Dich."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Weapons/holy_sword/might_on.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die heilige Macht weicht von Dir."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Weapons/holy_sword/might_off.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heiliges, gefuehrtes Schwert leuchtet nur noch ganz schwach."
   send_to="12"
   sequence="100"
   regexp="y"
   omit_from_output="y"
  >
  <send>psnd("Weapons/holy_sword/weak.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heiliges, gefuehrtes Schwert leuchtet auf."
   send_to="12"
   sequence="100"
   regexp="y"
   omit_from_output="y"
  >
  <send>psnd("Weapons/holy_sword/light_up.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heiliges, gefuehrtes Schwert erstrahlt kurz."
   send_to="12"
   sequence="100"
   regexp="y"
   omit_from_output="y"
  >
  <send>psnd("Weapons/holy_sword/shine.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heiliges, gefuehrtes Schwert blitzt auf."
   send_to="12"
   sequence="100"
   regexp="y"
   omit_from_output="y"
  >
  <send>psnd("Weapons/holy_sword/flash.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heiliges, gefuehrtes Schwert strahlt auf und blendet Dich."
   send_to="12"
   sequence="100"
   regexp="y"
   omit_from_output="y"
  >
  <send>psnd("Weapons/holy_sword/shine_blind.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine goettliche Macht hilft Dir."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Weapons/holy_sword/devine.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Fuehler fangen an zu blitzen, und darauf fangen sie an in einem"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/BallStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ueber Deinem Kopf entsteht eine gleissend helle Energiekugel, um deren"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/BallCreate.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Energiekugel schiesst los und fliegt direkt auf *"
   send_to="12"
   sequence="99"
  >
  <send>psnd("Febracim/Ball.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du konzentrierst Dich auf * waehrend*"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/TailStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schiesst einen Feuerschweif auf *"
   send_to="12"
   sequence="99"
  >
  <send>psnd("Febracim/Tail.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du starrst * an, waehrend*"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ShockStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Vibration uebertraegt sich immer staerker werdend auf Deinen gesamten"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ShockCharge.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Schockwelle breitet sich aus, und fliegt in Richtung*"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/Shock.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Als Du * mit Deinen gelben Augen*"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/Devour.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du Sprichst laut die Worte: Febra mestasa. Kurz darauf oeffnet sich gleich"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberOpen.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mit einem langsamen Knirschen schliesst sich die Luke ueber Dir. Was hat"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberClose.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mit einem langsamen Knirschen schliesst sich die Luke wieder, und ist schon"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberClose.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Langsam beginnt sich der Raum mit einer Fluessigkeit zu fuellen."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberFill1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Boden unter Dir ist schon gar nicht mehr zu erkennen, und Du merkst,"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberFill1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Fluessigkeit steigt immer weiter. Panik will in Dir aufkommen. Der"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberFill2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bist nun voellig von Dieser Fluessigkeit umgeben. Deine Lungen fuellen"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberLungs.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Febracim entspannt sich und geniesst das Bad in dieser seltsamen"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberFill2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du gewoehnst Dich langsam an das Einatmen der Fluessigkeit statt der"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberStretch.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Febracim scheint sich zu Strecken und fuehlt sich scheinbar richtig"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberStretch.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Febracim heilt sich langsam."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Febracim/ChamberHeal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bekommst wieder Boden unter den Fuessen."
   send_to="12"
   sequence="99"
  >
  <send>psnd("Febracim/ChamberStop.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mit einem Knirschen an der Decke oeffnet sich die Luke wieder. Der Febracim"
   send_to="12"
   sequence="99"
  >
  <send>psnd("Febracim/ChamberOpen.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du streckst Deine Arme gen Himmel und *"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/Stardust1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Zwischen Deinen Haenden entsteht eine leuchtende Kugel,*"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/Stardust2.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Die Kugel zerspringt mit einem lauten Knall*"
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/Stardust3.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du wirst von Sternenstaub umgeben."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/StardustOn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Dein Sternenstaub loest sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/StardustOff.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Verwende alten Koerper..."
   send_to="12"
   sequence="95"
  >
  <send>OnAvalonLogin()</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du beginnst Deine regenerativen Energien anzuzapfen."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/MagicCharge1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du spuerst, wie die Energien Dir zur Verfuegung stehen."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/MagicCharge2.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Du hast einen Teil Deiner regenerativen Energien in Deine Zauber umgelenkt."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/MagicChargeOn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Magier"
   match="Deine Energien fliessen wieder normal."
   send_to="12"
   sequence="95"
  >
  <send>psnd("Spells/MagicChargeOff.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ploetzlich bildet sich eine dicke Wolke ueber Deinem Kopf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/WaterAura2.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein Staubschleier loest sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/EarthAuraOff.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du hebst Deine Haende, beschreibst einen Halbkreis.*|Die Partikel verdichten sich um Dich."
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/EarthAuraOn.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Aus der Erde loesen sich kleine Partikel*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/EarthAura2.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du hebst beide Arme, drehst die Handflaechen gen Boden*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/EarthAura1.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Watteflocken loesen sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/AirAuraOff.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bist in den Watteflocken kaum noch auszumachen."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/AirAuraOn.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst, aus dem Wattebausch kleine Flocken*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/AirAura2.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du ziehst einen Wattebausch aus Deinem Gepaeck*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/AirAura1.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein Wasserschleier loest sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/WaterAuraOff.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Es regnet aus der Wolke auf Dich herab*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/WaterAuraOn.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beschreibst mit Deinen Haenden mystische Zeichen."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/WaterAura1.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Todesaura loest sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/DeathAuraOff.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du senkst Deine Haende, aber der Schutz der schwarzen Schleier.*|Die schwarzen Schleier verdichten sich um Dich."
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/DeathAuraOn.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Zwischen Deinen Handflaechen bilden sich schwarze Schleier*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/DeathAura1.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Feueraura loest sich auf."
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/FireAuraOff.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du senkst Deine Haende, aber der Schutz der Manawolken.*|Die Manawolken verdichten sich um Dich."
   send_to="12"
   regexp="y"
   sequence="95"
  >
  <send>psnd('Spells/FireAuraOn.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Zwischen Deinen Handflaechen bilden sich Manawolken*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/FireAura2.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du streckst beide Handflaechen von Dir und beginnst*"
   send_to="12"
   sequence="95"
  >
  <send>psnd('Spells/FireAura1.ogg')</send>
  </trigger>
  <trigger
   enabled="y"
   match="In einem unkonzentrierten Moment kommst Du ins Trudeln *"
   sequence="100"
   send_to="12"
  >
  <send>speedwalk_breaklegs()</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du kannst Deine Beine wieder bewegen."
   sequence="100"
   send_to="12"
  >
  <send>speedwalk_break()</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ploetzlich erscheint eine grosse Welle, und Du verschluckst Wasser. *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Drown1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Du konzentriest|konzentrierst Dich auf .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemConcentrate.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Du versuchst * telepathisch einen Befehl zu geben."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemCommunicate.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Die Augen von * blitzen kurz auf."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="* trifft * mit seiner Faust. Gleichzeitig *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemManaPunch.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="* magischer Schutzschild loest sich auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemShieldOff.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="* umgibt ein magischer Schutzschild."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemShield.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Das Glitzern legt sich als schuetzendes Schild ueber Dich."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/CoreShieldCreate.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Du konzentriest Dich."
   sequence="100"
   send_to="12"
  >
  <send>psnd("spells/Prepare.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Du nimmst Deinen Energiekern in die Hand und *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/CoreShieldAbsorb.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Das Leuchten Deines Energiekerns laesst nach, waehrend Du *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/CoreShieldShine.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Dein Kernschild loest sich auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/CoreShieldBreak.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Du suchst an * nach Rissen und anderen Macken."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemHealSearch.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="Schnell verschliesst Du die Wunden des Golems. Dabei murmelst Du *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemHealFix.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Golemkultisten"
   match="* sieht schon viel besser aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("GolemCultists/GolemHealFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schluckst noch mehr Wasser."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Drown2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beruhigst Dich wieder."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Drown3.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Du kletterst nach .*$|^.* klettert nach .*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/Climb/"..math.random(1,11)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Robe schmiegt sich eng an Deinen Koerper.*"
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Zwonirobe.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du hast einen neuen Brief von * bekommen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Post"..math.random(1,2)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="NEUE Briefe liegen fuer Dich auf der Post."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Post.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Nynaeves Sonnenschein&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Sun.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Da Du * im Schlaf beherrschst*"
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/InstrumentMaster.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="*dass Du sogar etwas Kraft sparst."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send></send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Rosarios Tanzlied&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Dance.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Rumbolds Ruhe&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Quietness.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Eine Stimmung der Ruhe und Friedfertigkeit benebelt alle Gegner."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/QuietnessOn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="* kann sich langsam vom beruhigenden *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/QuietnessOff.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Wallenroths Wut&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Rage1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Deine Bewegungen werden zusehends schneller."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Rage2.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Kaum hast Du aufgehoert zu spielen, bewegt sich wieder alles in seiner"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/RageOver.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Die Lichtwesen von .* scheinen Dein Mana etwas aufzufrischen\.$|^Bei jeder Beruehrung teilen Lichtwesen ihr Mana mit Dir\.$"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Sun_Regen.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Dolores' Euphorie&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Euphoria.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du hast keine magische Kraft mehr, die Du in das Lied*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/OutOfSpellPower.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mist. Noch immer nichts gefunden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HammerFailed.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match=".*Sie ist noch ganz gut zu erkennen.*|.*Sie ist noch ausreichend zu erkennen.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/QuiteGood.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du springst in die Fluten."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/EnterWater.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du verlaesst das Wasser."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/ExitWater.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mit dem Messer in der Hand machst Du Dich an die Arbeit."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Disembowel2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst magische Rituale auszufuehren."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/ShieldRituals.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".*Du befreist Dich von Deiner Steinhaut.*|.*Deine Steinhaut loest sich auf.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/StoneskinOver.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das hat Deiner Steinhaut den letzten Rest gegeben, sie loest sich auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/StoneskinBreak.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du murmelst Beschwoerungsformeln. Staub und kleine Steinchen .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/StoneskinStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine graue Schicht ueberzieht langsam Deine Haut, die .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/StoneskinContinue.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bist nun vollkommen in eine Steinhaut eingehuellt, .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >

  <send>psnd("Spells/StoneskinFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du verdrehst die Augen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/ShieldConcentrate.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wirst von einem magischen Schild umgeben*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/ShieldOn.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein * loest sich auf."
   sequence="101"
   send_to="12"
  >
  <send>psnd("Spells/ShieldOff.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du hast erfolgreich .* in .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/EngraveFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du hast es geschafft, * faellt um*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopComplete.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Na bitte, das sieht doch schon fast wie ein fertiges Lederstueck aus."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Finish2.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du hoerst auf, * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Stop.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du hoerst auf, * zu singen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Stop_Vocal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Tue beendet."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Done.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Viel fehlt Dir nicht mehr zum fertigen Lederstueck."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Finish1.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Von der .*rune .*|Schliesslich ist von der .*rune nichts mehr uebrig."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/RuneGone.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Vorsichtig polierst Du * noch etwas..."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Polish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Was? Wie? Wo? Haeh?!? Das habe ich nicht verstanden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/noway.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Renfields Wirrsal&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Confusion.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du faengst an, * auszubessern."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/RepairStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* folgt Dir."
   omit_from_output="y"   
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/Following.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* heilige Aura loest sich auf.|Die heilige Aura von .* loest sich auf."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/KB_Out.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du faengst an, * zu schmieden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/start.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Auf * lodert eine kleine Flamme kurz auf.|Das Feuer hinterlaesst tiefe, gluehende Spuren auf *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Flame.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du faengst an, .* auf .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/FileStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Du schwimmst nach .*$|^Du treibst mit der Stroemung nach .*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/Swim/"..math.random(1,10)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Auf den Tintagelschen Aeckern.|Ein kleines Huegelland."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/Ground/"..math.random(1,10)..".ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du faengst an, .* in .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/EngraveStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Auf einem Pfad von * nach *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2</send>
  </trigger>
  <trigger
   enabled="y"
   match="Auf einer Eisscholle,.*|In einer Eiswueste.*"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/ice/"..math.random(1,1)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du kniest nieder und suchst den Boden nach Spuren ab."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Track/Begin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="OK, Du verfolgst nun *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/HuntStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du knotest Dir ein *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Knot.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein * ist wieder getrocknet."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Dry.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Oh Mist, jetzt bist Du auf Granit gestossen und kannst nicht weitergraben!"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigGranite.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du kommst dabei heftig ins Schwitzen."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Breath.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Schliesslich bist Du der Meinung, die Rune nicht weiter nachziehen zu"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/FileEnd.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Weiter kannst Du * nicht ausbessern."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/RepairEnd.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein Weg, er verlaeuft von * nach *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2</send>
  </trigger>
  <trigger
   enabled="y"
   match="Unter dem Pfad der Unterwelt. Er fuehrt nach * und *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wanderst auf einem Pfad auf der Insel Holbytla entlang. Er fuehrt nach *, * und *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2, %3</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Du beginnst Dich zu konzentrieren.$|^^.* beginnt sich zu konzentrieren.$|^Du beginnst Deinen Zauberspruch vorzubereiten.$"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/Prepare.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wanderst auf einem Pfad auf der Insel Holbytla entlang. Er fuehrt von * nach *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du versuchst Dich darauf zu konzentrieren, versagst jedoch klaeglich."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/Fail.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das riecht aber lecker."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Smell.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Du erhebst.*angriff.*$|^.*erhebt.*angriff.*$|^.*greift.*mit.*an.$|^.*Angriff auf.*$"
   ignore_case="y"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/CounterAttack.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das sieht nicht besonders ergiebig aus."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/CoalFail.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du faengst an, eine Wasserstelle zu graben."
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Begin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dein Lichtbogen verschwindet."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/light3out.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein grosser Lichtbogen breitet sich ueber * Kopf aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/light3b.ogg")
        atcp.Send('ava_req_mapper')</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du faengst an, mit * zu faellen.|* faengt an, mit * zu faellen"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopBegin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der .* Luftvortex scheint sehr stark zu sein.|Der .* Luftvortex scheint wieder etwas schneller zu wirbeln."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Strong.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein kleiner Funke springt auf die Holzspaene ueber und *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Succeed.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Aus der Schmelze ist ein Rumpeln zu hoeren. Irgendetwas tut sich da drin."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/MeltRumble.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du feilst vorsichtig die Raender der .* auf .*|Kraftvoll schleifst Du die .* von .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/File.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Avalon! Eine Welt, in der alles moeglich und nichts unmoeglich ist."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/start.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du folgst * nach *."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Hunt.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Behutsam verteilst Du die Erde am Rand und klopfst sie fest*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Prepare.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du fuehrst *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/sword_draw.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Calidus, der Wandervogel."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Calidus.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Schon * eine Macke weniger."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/Repair1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Da gehts nicht weiter."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Wall.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du konzentrierst Dich auf das vorzeitige Ende des Zaubers."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/Stop.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Schweissueberstroemt begutachtest Du Dein fertiges Lederstueck *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Tan/Finish3.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du kramst einen kleinen Feuerstein hervor *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Start.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Sie erzittert immer oefter."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du landest einen gezielten Schlag auf Deinem Rohling."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/hammer2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="So langsam nimmt Dein Rohling Form an."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/hammer2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du loeschst.*|.*loescht.*|.*erlischt.|.*erloeschen."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/torch_out.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Feuerkugel erlischt."
   sequence="99"
   send_to="12"
  >
  <send>psnd("Misc/torch_out.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Deine Leuchtflamme erlischt."
   sequence="99"
   send_to="12"
  >
  <send>psnd("Misc/torch_out.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du machst Dein * noch einmal richtig nass."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Moisten.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="^Du faengst an, .* zu essen.$|^Mhmmm, schmeckt das gut ...$|^. o Keine Frage, ein Genuss! o . $|^Du geniesst diese Speise in vollen Zuegen.$"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Eat.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="aufgeschichtete Holzpyramide wieder in sich zusammenbricht. *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/FailStart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein kleiner Funke springt auf die Holzspaene ueber, aber *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/FailSpark.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="einige Meter nach hinten."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/lavahit3.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Feuerkristall leuchtet nun hellrot und strahlt dabei eine unheimliche*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/FireCrystal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein kleiner See."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/swim/"..math.random(1,10)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="erhaertet."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/lavahit4.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Nebel loest sich allmaehlich auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/FogOut.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Ein kleiner Wasserschwall schwappt von Deinem *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Wave.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Aeste des Lagerfeuers knacken und einige Funken steigen auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Sparks.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein kurzer Blick in die Pfanne verraet Dir, *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Pan.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Erde unter Dir beginnt zu beben."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/quake.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein letzter pruefender Blick und Du erkennst, dass sich bereits Wasser *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Succeed.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Daraufhin stellst Du den Topf auf das Kochgestell *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Cook.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die Flammen des Lagerfeuers flackern und tanzen hypnotisierend *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Crackle.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Daraufhin stellst Du die Pfanne mit *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Roast.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das Knistern des Feuers wirkt irgendwie beruhigend auf Dich."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Crackle.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das Lagerfeuer ist nun voellig niedergebrannt und erlischt.*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/GoOut.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Sogleich bildet sich ein dunkelblauer Nebel ueber dem Topf, *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Fog.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Einige Funken springen von Deinem *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Spark.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Das Ufer eines kleinen Sees.|In den Weiten der Tundra.|In einem steinigen Landesabschnitt."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/stony/"..math.random(1,10)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du meinst ein leises Plaetschern zu vernehmen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Plash.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Super! Mit praezisen Schnitten weidest Du *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/DisembowelSuccess.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Endlich bist Du mit dem Vorzeichnen fertig."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/ChartEnd.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du merkst, dass die Wasserstelle versiegt. *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/GoOut.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Fast ohne Widerstand senkt sich der Stempel tief in die Presse hinein.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/PressEmpty.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du merkst, wie vom Ofen allmaehlich eine grosse Hitze ausgeht."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/MeltHeatUp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Tatsaechlich, Du hast etwas .* gefunden.|Na bitte, da ist schon etwas.|.* Du hast Mithrilerz gefunden."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HammerSucceeded.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du oeffnest *"
   sequence="101"
   send_to="12"
  >
  <send>psnd("Misc/Open.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Tue abgebrochen."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/DoCancel.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du packst Dein Kochgestell aus und stellst es vor Dich hin."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Unpack.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="konzentriert."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/heal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="tiefen, feurigen Rot-Orange auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/lavahit1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du nimmst einen * Schluck *"
   sequence="101"
   send_to="12"
  >
  <send>psnd("Player/EatUp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein letztes Mal abschmecken und Du bist Dir sicher, dass *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/CookFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du nimmst *"
   sequence="102"
   send_to="12"
  >
  <send>psnd("Items/Take.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Die Illusion einer Granitfaust schiesst aus *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Granite.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Die Lichtwesen folgen Dir."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Ein * Mondtor steigt aus dem Boden empor."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/create.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein * Mondtor verschwindet wieder spurlos im Boden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/quake.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du hoerst auf, &quot;Brems Vogellied&quot; zu spielen."
   omit_from_output="y"
   sequence="99"
  >
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Die Schlangenrune *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Snake.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein seltsames Haus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Zwoni.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du legst * in das kochende Wasser *"
   sequence="99"
   send_to="12"
  >
  <send>psnd("Cook/Boiling2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Die rote Nebelwolke beginnt sich ploetzlich aufzuloesen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/FogOut.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein tiefer Kratzer in .* muss .*"
   sequence="100"
   regexp="y"
   send_to="12"
  >
  <send>psnd("Smith/Repair2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dir rutscht Geroell entgegen."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigRocks.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* Luftvortex naehert sich von *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Appear.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Fertig. Dein Feuerkristall erlischt und Du packst alles wieder ein. *"
   sequence="99"
   send_to="12"
  >
  <send>psnd("Cook/RoastFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* Luftvortex wirbelt ein wenig von *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Swirl1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Funken spruehen bei Deinen Schlaegen auf den harten Fels."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Funken stieben aus dem Lagerfeuer."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Sparks.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du probierst ein bisschen von *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Try.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Gar nicht so einfach."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Du pruefst fachmaennisch die Tiefe und beschliesst *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Dig2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Geblendet vom herabstroemenden Schweiss kneifst Du Deine Augen in einem*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Tan/Tear.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du ruehrst * um."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Stir.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schabst fleissig weiter."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Scrape2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du befeuchtest Dein *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Moisten.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du befreist Dich aus dem Schlamm."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigMud.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Eine Stichflamme schiesst aus *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Fire.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* Luftvortex wuselt flink um *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Swirl2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst damit, ein Lagerfeuer zu erstellen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Begin.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Eine Wasserfontaene schiesst aus *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Flood.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst das Stueck Haut mit dem Gerbermesser abzuschaben."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Scrape1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* erscheint aus dem Mondtor."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/apear.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst mit dem Wuehlen nach *kohle."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/CoalBegin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* erzittert unter den heftigen Hieben."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Gerade als Du fertig bist den Rand zu befestigen rutscht alles zurueck *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Colapse.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* erzittert unter den heftigen Schlaegen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hand wieder."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/firebeam4.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Handflaechen beginnen zu leuchten und zu funkeln."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/heal2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schlaegst Dein Werkzeug in das Gestein."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigTool.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hier scheint wirklich Mithrilerz im Gestein zu sein."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HackSucceed2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schliesst *"
   sequence="102"
   send_to="12"
  >
  <send>psnd("Misc/Close.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Himmel und verschwindet dort."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/lavahit2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du schneidest Dir ein Stueck zur Bearbeitung aus Deiner Tierhaut."
   sequence="100"
   omit_from_output="y"
   send_to="12"
  >
  <send>psnd("Tan/Cut.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du senkst *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/Sword_Sheath.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du setzt * ab."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/offhead.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du zeichnest vorsichtig die Rune auf * vor."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Chart.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du zerteilst * mit * in *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/WoodSplit.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="* Voegel stuerz* auf * herab.*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Birds_Attack.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du ziehst * an."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Wear.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst mit der Mineraliensuche.|Du beginnst mit der Suche nach Silbererz."
   omit_from_output="y"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HammerBegin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine kaum ertraegliche Hitze stroemt aus dem Nebel."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Heat.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du ziehst * aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Unwear.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst mit der Suche nach Mithrilerz.|Du beginnst mit der Arbeit. Es ist gar nicht so einfach hier Mithrilerz zu"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HackSucceed1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine kleine freche Fliege will an Dein Essen, *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Fly.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* faellt bestimmt bald um."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beginnst zu graben."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigBegin.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Eine rote Nebelwolke bildet sich ueber dem Boden und umschliesst den*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Fog.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* fluechtet sichtlich verstoert nach *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Flee.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du beobachtest ein wenig den Funkenflug des Lagerfeuers."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Sparks.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* geht in dem Lagerfeuer in * auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/burst.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du betrittst ein * Mondtor."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/enter portal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* gibt Dir *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Items/Get.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hm. Viel ist da nicht zu sehen."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HammerFail.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* hat gut geschmeckt."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/EatUp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hoffentlich findet sich etwas.|Das geht ja wirklich gut."
   omit_from_output="y"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/HammerSucceed.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hoffentlich wird das was...|Das wird wirklich was..."
   omit_from_output="y"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Du setzt * auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/head.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Hoi, das sieht doch schon wie .*kohle aus.|Nach was richtig Ordentlichem sieht das nicht aus."
   omit_from_output="y"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/CoalSucceed.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du spaltest Dein Brennholz in kleinere Scheite."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Split.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du spielst eine leichte Melodie auf *, mit der Du bei*"
   send_to="12"
   sequence="99"
  >
  <send>psnd("Bard/Grats.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du spielst .* auf Deine.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Sing.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du singst * ohne instrumentale Unterstuetzung*"
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Sing_Vocal.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du spuckst Dir in die Haende."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/light1b.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Du spuerst, wie die Magie Deiner Waffe Dir die Kraft Deines Feindes"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Vampire.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="Ein Blitz schiesst aus *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Lightning.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bewegst Deine Haende auf mystische Weise."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/light2a.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bildest mit dem * Luftvortex eine neue Gruppe."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Group.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein Feuerstrahl schiesst auf * zu."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/firebeam2.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* kippt bestimmt bald um."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du breitest Deine Arme aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/light3a.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* knistert in dem Lagerfeuer."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Crackle.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du drueckst den langen Hebel nach oben. Ohne Widerstand folgt er Deiner.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/PressRelease.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* recht beschaedigt."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/Damaged.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du entzuendest.*|.*entzuendet.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/torch_on.ogg")
      atcp.Send('ava_req_mapper')</send>
  </trigger>
  <trigger
   enabled="y"
   match="In dem Kochtopf befindet sich jetzt erstaunlicherweise kochendes Wasser *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Boiling1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* schwer beschaedigt."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/HeavyDamaged.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="In einem Stollen.|In einer grossen Hoehle."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/cave/"..math.random(1,4)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="In einer trostlosen Steppe."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Footsteps/Steppy/"..math.random(1,10)..".ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du steckst *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/Sword_Sheath.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du stellst die Holzstuecke zu einer kleinen Pyramide auf *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Firestarting/Build.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Kleine Luftblaeschen steigen aus dem Topf auf."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/bubble.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du stimmst eine dunkle, getragene Totenklage *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Burial.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du streckst Deine Hand nach vorn."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/firebeam1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du summst eine kleine Melodie, die Dir gerade so eingefallen ist."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Melody.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein Klumpen Metall faellt scheppernd in das Auffangbecken."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/MeltFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du erzeugst Dir eine kleine Feuerkugel."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/torch_on.ogg")
        atcp.Send('ava_req_mapper')</send>
  </trigger>
  <trigger
   enabled="y"
   ignore_case="y"
   keep_evaluating="y"
   match="^Du legst .*$|^.* legt .* hin.$"
   regexp="y"
   sequence="95"
   send_to="12"
  >
  <send>psnd("Items/Put.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* schwingt immer mehr hin- und her."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du erzeugst Dir eine kleine Leuchtflamme."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/torch_on.ogg")
        atcp.Send('ava_req_mapper')</send>
  </trigger>
  <trigger
   enabled="y"
   match="* Luftvortex hat * getoetet."
   sequence="2"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Kill.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* wackelt immer mehr."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/ChopHit.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Auroras Lag&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Lag.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Der Luftvortex loest sich auf als Du ihm seinen Kern geraubt hast.*"
   sequence="2"
   send_to="12"
  >
  <send>psnd("Monsters/Vortex/Disintegrate.ogg")
  world.Execute("stecke streitaxt in meinen rucksack")</send>
  </trigger>
  <trigger
   enabled="y"
   match="*[Gruppe]*"
   keep_evaluating="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/group.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* moechte mit Dir eine Gruppe bilden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/group.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* moechte sich Deiner Gruppe anschliessen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/group.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du bildest mit * eine neue Gruppe."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/group.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Brems Vogellied&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Birds_Start.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* gibt Dir .* (Lapis|Obsidian|Konochen).*"
   regexp="y"
   sequence="99"
   send_to="12"
  >
  <send>psnd("Items/GetMoney.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Runenschmiede"
   match="*Sie ist kaum noch zu erkennen*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Rune/Bad.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du gibt Dir die beste Muehe, * zu faellen.*"
   sequence="99"
   send_to="12"
  >
  <send>psnd("Misc/ChopContinue.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Langsam senkt sich der Stempel in die Presse hinein. Du hoerst das|Kreischen sich verformenden Metalls."
   omit_from_output="y"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="Du gibst *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Items/Give.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Laut scheppernd faellt ein fertiger Rohling unten aus der Presse heraus .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/PressFinish.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du graebst eine tiefe Mulde mit Deinem Hirschfaenger in den Boden."
   sequence="100"
   send_to="12"
  >
  <send>psnd("WateringPlace/Dig1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Leider bist Du viel zu unkonzentriert und verschneidest Dich dermassen oft*"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/DisembowelFail.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du waehlst ein geeignetes Messer aus Deinen Kochutensilien aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Disembowel1.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du graebst und graebst..."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/DigContinue.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Leise ist aus der Schmelzanlage ein Blubbern zu hoeren.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/MeltBubble.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wendest (das|den|die) .*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Cook/Turn.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du greifst * mit *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/Attack.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mist, mit .* laesst sich hier wohl nichts mehr.*|Mist. Hier laesst sich wohl nichts mehr schuerfen."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/Empty.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wickelst Dein Buendel aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Open.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du haelst den Feuerstrahl weiterhin aufrecht."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/firebeam3.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wickelst Dein Buendel sorgfaeltig wieder ein."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/Close.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du wringst Dein feuchtes * kraeftig aus."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Hiker/WringOut.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein Pfad, er verlaeuft von * nach *."
   omit_from_output="y"
   send_to="2"
   sequence="100"
  >
  <send>%1, %2</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Fabians Gnade&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Heal.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Grinwells Stimme im Geist&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Hypnosis.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* ist Dir entkommen.|Du brichst die Verfolgung ab."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/HuntAbort.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Josuas Rattenfaengerlied&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Catcher.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".* ist fertig.|.* sind fertig."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Smith/complete.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Barden"
   match="Du faengst an, &quot;Kakos Missklang&quot; auf * zu spielen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Bard/Dissonance.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match=".*Du hast Braunkohle gefunden."
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Mining/CoalSucceeded.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="* schiesst * auf *"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/arrow.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du kannst nicht mehr genug Deiner magischen Energie entbehren, um Deinen Speer weiterhin damit zu versorgen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/waldtraene/forceend.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du spuerst, wie 'Waldtraene' von Deiner magischen Kraft zehrt."
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/waldtraene/sendzp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du spuerst, wie Deine magische Energie schwindet. Sie scheint sich in|Waldtraene zu sammeln.*"
   regexp="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/waldtraene/startzp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="'Waldtraene' ist nun voll mit magischer Energie geladen."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/waldtraene/fullzp.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Traenen gleich fliessen Tropfen goldenen Lichtes ueber die Blaetter von 'Waldtraene' auf * zu.|Sie scheinen ihm fuerchterliche Schmerzen zu bereiten."
   regexp="y"
   omit_from_output="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Weapons/waldtraene/"..math.random(1,8)..".ogg")</send>
  </trigger>
  <trigger
   match="In einem unkonzentrierten Moment verlierst Du Deinen Halt und rutschst ab."
   enabled="y"
   sequence="100"
   send_to="12"
  >
  <send>speedwalk_breaklegs()</send>
  </trigger>
  <trigger
   match="Du findest wieder festen Halt."
   enabled="y"
   sequence="100"
   send_to="12"
  >
  <send>speedwalk_break()</send>
  </trigger>
  <trigger
   match="'Waldtraene' zittert in Deiner Hand. Du fuerchtest, sie koennte zerbersten!"
   enabled="y"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/waldtraene/vibration.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Jemand klopft von draussen laut gegen die *!"
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/DoorKnock.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Mutigen Schrittes trittst Du durch die schwarze, glitzernde Wand."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Portal/ShadowWall.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Insgesamt warst Du * in Avalon."
   sequence="100"
   send_to="12"
  >
  <send>
  Audio.setVol(0, hmusic)
  psnd("Misc/out.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hat einen neuen Abenteuerbericht verfasst."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Misc/Report.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Ein kleiner, roter Briefkasten (Post ist da!)."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Player/LetterBox.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Echos des grossen Krieges"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WarEchoes/Advance.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Vergiss Deine Kriegsbeute nicht"
   sequence="100"
   send_to="12"
  >
  <send>psnd("WarEchoes/Loot.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Dafuer hast Du leider nicht genug Zauberpunkte."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/OutOfSpellPower.ogg")</send>
  </trigger>
  <trigger
   enabled="y"
   match="Du brichst Dein Dauerzaubern ab."
   sequence="100"
   send_to="12"
  >
  <send>psnd("Spells/EndOfContinuousSpell.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Nekromanten"
   match="Du erhebst Dich wieder, der wirbelnde Schild aus Knochen umgibt Dich"
   send_to="12"
   sequence="100"
  >
  <send>psnd("Necromancers/BoneShieldOn.ogg")</send>
  </trigger>
  <trigger
   enabled="n"
   group="Nekromanten"
   match="Deine schuetzende Knochenwolke loest sich auf."
   send_to="12"
   sequence="100"
  >
  <send>psnd("Necromancers/BoneShieldOff.ogg")</send>
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>
  <alias
   match="dli"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_printlist()</send>
</alias>
  <alias
   match="zvs *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_zvs("%1")</send>
</alias>
  <alias
   match="vg *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_vg("%1")</send>
</alias>
  <alias
   match="el *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_el("%1")</send>
</alias>
  <alias
   match="dbw *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_dbw("%1")</send>
</alias>
  <alias
   match="zgp *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_zgp("%1")</send>
</alias>
  <alias
   match="bwv * *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_bwv("%1","%2")</send>
</alias>
  <alias
   match="brv * *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_brv("%1","%2")</send>
</alias>
  <alias
   match="bbs * *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_bbs("%1","%2")</send>
</alias>
  <alias
   match="bnm * *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_bnm("%1","%2")</send>
</alias>
  <alias
   match="zw *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_zw("%1")</send>
</alias>
  <alias
   match="zh *"
   group="Daemonenkrieger"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>dk_zh("%1")</send>
</alias>
  <alias
   match="rausl *"
   group="Spiele_Hajo"
   enabled="n"
   send_to="12"
   sequence="100"
  >
  <send>world.Execute("rauslegen %1")</send>
</alias>
  <alias
   match="pos"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>print_position()</send>
</alias>
  <alias
   match="safespeedwalks_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>safespeedwalks_switch()</send>
</alias>
  <alias
   match="switch_mute"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>switch_mute()</send>
</alias>
  <alias
   match="switch_fullmute"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>switch_fullmute()</send>
</alias>
  <alias
   match="volumetype_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>volumetype_switch()</send>
</alias>
  <alias
   match="spbar_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>spbar_switch()</send>
</alias>
  <alias
   match="apbar_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>apbar_switch()</send>
</alias>
  <alias
   match="tpbar_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>tpbar_switch()</send>
</alias>
  <alias
   match="repeatcommand_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>repeatcommand_switch()</send>
</alias>
  <alias
   match="volume_up"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>volume(5)</send>
</alias>
  <alias
   match="volume_down"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>volume(-5)</send>
</alias>
  <alias
   match="tts_switch"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>tts_switch()</send>
</alias>
  <alias
   match="speedwalk_break"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>speedwalk_break()</send>
</alias>
  <alias
   match="az"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>spells_status()</send>
</alias>
  <alias
   match="^/(.*?)$"
   enabled="y"
   send_to="12"
   sequence="100"
   regexp="y"
  >
  <send>speedwalk_start("%1")</send>
</alias>
  <alias
   match="^!(.*?)$"
   enabled="y"
   send_to="12"
   sequence="100"
   regexp="y"
  >
  <send>warnings_access("%1")</send>
</alias>
  <alias
   match="janis"
   enabled="y"
   send_to="2"
   sequence="100"
  >
  <send>Skilletan</send>
  </alias>
  <alias
   match="janiso"
   enabled="y"
   send_to="2"
   sequence="100"
  >
  <send>Lorinant</send>
  </alias>
  <alias
   match="janisw"
   enabled="y"
   send_to="2"
   sequence="100"
  >
  <send>Tolsgal</send>
  </alias>
  <alias
   match="janiw"
   enabled="y"
   send_to="2"
   sequence="100"
  >
  <send>Jerisa</send>
  </alias>
  <alias
   match="foien"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Alotria</send>
  </alias>
  <alias
   match="foieno"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Orkland</send>
  </alias>
  <alias
   match="foienw"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Sanduz</send>
  </alias>
  <alias
   match="foieo"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Abtei</send>
  </alias>
  <alias
   match="foies"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Corona</send>
  </alias>
  <alias
   match="foieso"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Zwergental</send>
  </alias>
  <alias
   match="foiesw"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Minias</send>
  </alias>
  <alias
   match="foiew"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Ashar</send>
  </alias>
  <alias
   match="janin"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Unbekannt</send>
  </alias>
  <alias
   match="janino"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Amphibos</send>
  </alias>
  <alias
   match="janinw"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Holbytla</send>
  </alias>
  <alias
   match="janio"
   enabled="y"
   send_to="2"
   sequence="100"
   >
  <send>Tintagel</send>
  </alias>
</aliases>

<!--  Script  -->

<script>
<![CDATA[
Audio=nil
atcp=nil
Dunkel=0
g_tp=nil
g_max_tp=nil
g_sp=nil
g_max_sp=nil
g_ap=nil
g_max_ap=nil
g_mp=nil
g_max_mp=9999
g_combat           = nil
g_combat_music     = nil
g_combat_music_name= nil
apfullannounced=false
spfullannounced=false
tpfullannounced=false
hapsnd=nil
hdksnd=nil
hspnil=0
hstationsnd=nil
htpsnd=nil
hmusic=nil
LastCommand=nil
LevelUpdate=false
mxp_output=false
PlayerLevel=nil
timepluginid="1cb498c9a895e1f5af23cbc8"
plugintbl={}
plugintbl[1]='ATCP.plugin/plugin.xml'
plugintbl[2]="LuaAudio.xml"
plugintbl[3]="output_functions.xml"
plugintbl[4]="omit_blank_lines.xml"
plugintbl[5]="channel_history.xml"
plugintbl[6]="hyperlink_url2.xml"
plugintbl[7]="timecatcher.xml"
plugintbl[8]="avalon/speedwalk-mapper.xml"
plugintbl[9]="avalon/healthbar.xml"
RoomID=nil
RoomName=''
volumetype=1
spdtbl={}
spdind={0,0}
spdstationstbl={}
spdactive=false
spdspeed=0.3
spdextraspeed=0.7
auratbl={}
gildentbl={}
callbacktbl={}
configtbl={}
configtbl.settings={}
configtbl.settings.ScreenReader='MushReader'
configtbl.settings.SoundVolume=100
configtbl.settings.MusicVolume=10
configtbl.settings.CombatMusicVolume=10
configtbl.settings.TPBar=1
configtbl.settings.SPBar=1
configtbl.settings.APBar=1
configtbl.settings.SoundsMuted=0
configtbl.settings.MusicMuted=0
configtbl.settings.CombatMusicMuted=0
configtbl.settings.SafeSpeedwalks=1
configtbl.settings.RepeatCommand=0
configtbl.settings.NumpadWalk=1
configtbl.settings.MXP=0
world.Accelerator("ctrl+D", "speedwalk_break")
world.Accelerator("ctrl+F12", "tts_switch")
world.Accelerator("F2", "tpbar_switch")
world.Accelerator("F3", "spbar_switch")
world.Accelerator("F4", "apbar_switch")
world.Accelerator("F5", "safespeedwalks_switch")
world.Accelerator("F6", "repeatcommand_switch")
world.Accelerator("F9", "volume_down")
world.Accelerator("F10", "volume_up")
world.Accelerator("F11", "volumetype_switch")
world.Accelerator("ctrl+F11", "switch_mute")
world.Accelerator("ctrl+shift+F11", "switch_fullmute")
world.AcceleratorTo('Decimal','NumpadSwitch()',12)
require("avalon.activespells")
require("avalon.demon_warriors")
require("avalon.multilinetrigger")
require("avalon.speedwalks")
require("avalon.stations")
require("pairsbykeys")
Dir = require('pl.dir')
File = require('pl.file')
Ini = require("ini")
Path = require("pl.path")
PPI = require("ppi")
Tablex = require("pl.tablex")
spells_register("Sternenstaub","Du wirst von Sternenstaub umgeben\.","Dein Sternenstaub loest sich auf\.")
spells_register("Magieaufladung","Du hast einen Teil Deiner regenerativen Energien in Deine Zauber umgelenkt\.","Deine Energien fliessen wieder normal\.")
spells_register("Erdaura","Du hebst Deine Haende, beschreibst einen Halbkreis.*|Die Partikel verdichten sich um Dich\.","Dein Staubschleier loest sich auf\.")
spells_register("Luftaura","Du bist in den Watteflocken kaum noch auszumachen\.","Deine Watteflocken loesen sich auf\.")
spells_register("Wasseraura","Es regnet aus der Wolke auf Dich herab.*","Dein Wasserschleier loest sich auf\.")
spells_register("Todesaura","Du senkst Deine Haende, aber der Schutz der schwarzen Schleier.*|Die schwarzen Schleier verdichten sich um Dich\.","Deine Todesaura loest sich auf\.")
spells_register("Feueraura","Du senkst Deine Haende, aber der Schutz der Manawolken.*|Die Manawolken verdichten sich um Dich\.","Deine Feueraura loest sich auf\.")
spells_register("Kampfbeschwoerung","Du wirst von einer heiligen Aura umgeben\.","Deine heilige Aura loest sich auf\.")
spells_register("Kernschild","Das Glitzern legt sich als schuetzendes Schild ueber Dich\.","Dein Kernschild loest sich auf\.")
spells_register("Knochenschild","Du erhebst Dich wieder, der wirbelnde Schild aus Knochen umgibt Dich","Deine schuetzende Knochenwolke loest sich auf\.")
spells_register("Steinhaut","Du bist nun vollkommen in eine Steinhaut eingehuellt, .*",".*Du befreist Dich von Deiner Steinhaut.*|.*Deine Steinhaut loest sich auf.*|Das hat Deiner Steinhaut den letzten Rest gegeben, sie loest sich auf\.")
spells_register("Schild","Du wirst von einem magischen Schild umgeben\.","Dein magischer Schild loest sich auf\.")
spells_register("Licht","Ein grosser Lichtbogen breitet sich ueber Deinem Kopf aus\.|Du erzeugst Dir eine kleine Feuerkugel\.|Du erzeugst Dir eine kleine Leuchtflamme\.","Dein Lichtbogen verschwindet\.|Deine Feuerkugel erlischt\.|Deine Leuchtflamme erlischt\.")
spells_register("Arkanschild","Du wirst von einem Arkanschild umgeben\.","Dein Arkanschild loest sich auf\.")
function OnAvalonGrafikVermeiden(type,message)
if tonumber(message)==1 then
config_graphics(false)
else
config_graphics(true)
end
end
function OnAvalonGilde(type,message)
for gilde,gtbl in pairs(gildentbl) do
if gilde==message then
if not gtbl[1] then
world.EnableGroup(gilde,1)
gtbl[1]=true
gtbl[2](true)
end
else
if gtbl[1] then
world.EnableGroup(gilde,0)
gtbl[1]=false
gtbl[2](false)
end
end
end
end
function OnAvalonLogin()
  atcp.Send("ava_set_channel 1")
  atcp.Send("ava_set_rcomm 1")
  atcp.Send("ava_set_comm 1")
  atcp.Send("ava_set_soul 1")
  atcp.Send("ava_set_rsoul 1")
  atcp.Send("ava_req_update")
  atcp.Send("ava_req_graphics_status")
end

OnAvalonGetoetet = function(type, message)
  if (type == "Avalon.Getoetet") then
    psnd("Player/Kill.ogg")
  elseif (type == "Avalon.GruppeGetoetet") then
    psnd("Monsters/Kill.ogg")
  end
  psnd("monsters/deaths/"..math.random(1,57)..".ogg")
end

OnAvalonKampf = function(type, message)
  if (message == "1") then
    g_combat = true
    combat_music()
  elseif (message == "0") then
    g_combat = false
    combat_music()
  end
end

OnAvalonDunkel = function(type, message)
  Dunkel = tonumber(message)
end

OnAvalonRSoul = function(type, message)
  channel, text = string.match(message, "^(%[?%w+%-?%w*%-?%w*%]?) (.*)$")
  world.Execute(";history_add REDEN="..world.Replace(text,'\n',',',true))
end

OnAvalonSoul = function(type, message)
  channel, text = string.match(message, "^(%[?%w+%-?%w*%-?%w*%]?) (.*)$")
  if not text then
    startpos, endpos = string.find(message, " ", 1, true)
    text = string.sub(message, endpos+1, -1)
  end
  world.Execute(";history_add SAGEN="..world.Replace(text,'\n',' ',true))
end

OnAvalonComm=function(type,message)
  channel, text = string.match(message, "^(%[?%w+%-?%w*%-?%w*%]?) (.*)$")
  fchannel=string.upper(channel[1])..string.sub(channel,2,-1)
  if (Path.exists(GetInfo(67).."Sounds/Channels/"..channel..".ogg")) then
    psnd("Channels/"..channel..".ogg")
  end
  world.Execute(";history_add "..channel.."="..world.Replace(text,'\n',' '))
end

OnAvalonChannel = function(type, message)
  channel, text = string.match(message, "^(%[?%w+%-?%w*%-?%w*%]?) (.*)$")
  fchannel=string.upper(channel[1])..string.sub(channel,2,-1)
  if gildentbl[fchannel] then
    channel="gilde"
  end
  if (Path.exists(GetInfo(67).."Sounds/Channels/"..channel..".ogg")) then
    psnd("Channels/"..channel..".ogg")
  end
  if ((channel == "fehler") or (channel == "runtime")) then
    return
  end
  world.Execute(";history_add "..channel.."="..text)
end

OnAvalonRoomID = function(type, message)
  tmessage = utils.split(message, " ")
  id = tmessage[1]
  name = tmessage[2]
  if tmessage[3] then
    X = tonumber(utils.split(tmessage[3],"=")[2])
  else
    X = nil
  end
  if tmessage[4] then
    Y = tonumber(utils.split(tmessage[4],"=")[2])
  else
    Y = nil
  end
  if id ~= RoomID then
    station_name = stations_getnamebyroomid(id)
    if station_name ~= nil then
      if (Path.exists(GetInfo(67).."Sounds/Stations/"..station_name..".ogg")) then
        stationsnd = GetInfo(67).."Sounds/Stations/"..station_name..".ogg"
      else
        stationsnd = GetInfo(67).."Sounds/Stations/Misc.ogg"
      end
      stopifplaying(hstationsnd)
      hstationsnd = Audio.play(stationsnd, 0, 0, configtbl.settings.SoundVolume)
    end
  end
  RoomID = id
  if (not name) or (name == 'Bitte') then
    return
  end
  if (name == RoomName) and (hmusic ~= nil) and (Audio.isPlaying(hmusic) == 1) then
    return
  end
  RoomName = name
  if (not Path.isfile(GetInfo(67)..'Sounds/Music/'..name..'.ogg') and not Path.isdir(GetInfo(67)..'Sounds/Music/'..name)) then
    stopifplaying(hmusic)
    return
  end
  if (Path.isfile(GetInfo(67)..'Sounds/Music/'..name..'.ogg')) then
    pmusic(name..'.ogg')
  else
    files=Dir.getfiles(GetInfo(67)..'Sounds/Music/'..name)
    pmusic(files[math.random(1,#files)])
  end
end 

OnAvalonLevel = function(type, message)
  local level = string.match(message, "^S(%d+)$")
  level = tonumber(level)
  if (PlayerLevel ~= nil) and (level > PlayerLevel) then
    psnd("Misc/LevelUp.ogg")
  end
  PlayerLevel = level
end

OnAvalonTP = function(message, ntp)
  ntp = tonumber(ntp)
  play_tp(ntp)
  g_tp=ntp
  combat_music()
end

OnAvalonSP=function(message, nsp)
  nsp = tonumber(nsp)
  play_sp(nsp)
  g_sp=nsp
end

OnAvalonMP=function(message,nmp)
  g_mp=tonumber(nmp)
  return
end

OnAvalonAP = function(message, nap)
  nap = tonumber(nap)
  play_ap(nap)
  g_ap = nap
end

OnAvalonMax = function(message, value)
  local type, content = string.match(value,"(%w+) (%d+)")
  if (type == "TP") then
    g_max_tp = tonumber(content)
    combat_music()
  elseif (type == "SP") then
    g_max_sp = tonumber(content)
  elseif (type == "AP") then
    g_max_ap = tonumber(content)
  end
end

function OnPluginInstall()
  local ctbl = Ini.read('config.dat')
  if ctbl then
    for name, section in pairs(ctbl) do
      for optionname, optionvalue in pairs(section) do
        config = tonumber(optionvalue)
        if (config == nil) then
          config = optionvalue
        end
        if configtbl[name]==nil then
          configtbl[name]={}
        end
        configtbl[name][optionname] = config
      end
    end
  end
  if configtbl.settings.MXP==1 then
    config_graphics(true,true)
  else
    config_graphics(false,true)
  end
  plugintbl[#plugintbl+1] = configtbl.settings.ScreenReader..'.xml'
  for number, plugin in pairs(plugintbl) do
    pluginpath = world.GetInfo(60)..'/'..plugin
    world.LoadPlugin(pluginpath)
  end
  if Path.exists(world.GetInfo(60).."avalon/user.xml") then
    world.LoadPlugin(world.GetInfo(60).."avalon/user.xml")
  end
  spells_parsewarnings(configtbl.settings.Warnings)
  NumpadInit()
  gildentbl={['Barden']={false,gildendummy},['Hyraskrieger']={false,gildendummy},['Runenschmiede']={false,gildendummy},['Golemkultisten']={false,gildendummy},['Formwandler']={false,gildendummy},['Magier']={false,gildendummy},['Kleriker']={false,gildendummy},['Daemonenkrieger']={false,dk_init},['Druiden']={false,gildendummy},['Nekromanten']={false,gildendummy}}
  Audio = PPI.Load("aedf0cb0be5bf045860d54b7")
  if not Audio then
    error("Audio-Ausgabe konnte nicht initialisiert werden.")
  end
  if not Path.exists("config.dat") then
    res = utils.msgbox("Herzlichen Glueckwunsch! das Avalon-Soundpack ist nun bereit. Informationen zu Funktionen und Tastenkombinationen stehen in der Readme-Datei. Die Datei jetzt im Editor anzeigen?","Avalon-Soundpack - Readme-Datei","yesno","!",1)
    if (res == "yes") then
      os.execute("notepad.exe readme.txt")
    end
  end
  newfiles=Dir.getfiles(world.GetInfo(66),"*\.new")
  if #newfiles>0 then
    for _, dfile in pairs(newfiles) do
      File.delete(string.sub(dfile,1,-5))
      File.move(dfile,string.sub(dfile,1,-5))
    end
    world.Note("Das letzte Update wurde nun erfolgreich abgeschlossen.")
  end
  PPI.Expose('IID',
    function()
      if Dunkel==1 then
        return nil
      else
        return RoomID
      end
    end)
  PPI.Expose('Location',
    function()
      res=nil
      for key,value in pairs(stations) do
        if value==RoomID then
          res=key
          break
        end
      end
      if res ~= nil then
        return utils.split(res,'_')[1]
      else
        return nil
      end
    end)
  PPI.Expose('AP',
    function()
      return g_ap, g_max_ap
    end)
  PPI.Expose('MP',
    function()
      return g_mp, g_max_mp
    end)
  PPI.Expose('SP',
    function()
      return g_sp, g_max_sp
    end)
  PPI.Expose('TP',
    function()
      return g_tp, g_max_tp
    end)
  PPI.Expose('GetConfig',
    function(table,key)
      if configtbl[table]==nil then
        return 0
      end
      return configtbl[table][key] or 0
    end)
  PPI.Expose('SetConfig',
    function(table,key,value)
      if configtbl[table]==nil then
        configtbl[table]={}
      end
      configtbl[table][key]=value
    end)
  PPI.Expose('HookCallback',
    function(event,callback)
      return hook_callback(event,callback)
    end)
end

function OnPluginCommandEntered(text)
  if (configtbl.settings.RepeatCommand == 0) then
    return text
  end
  if (text == "") and (LastCommand ~= nil) then
    return LastCommand
  else
    if (text ==" ") then
      LastCommand = ''
      return ''
    end
    LastCommand = text
    return text
  end
end

function OnPluginClose()
  if callbacktbl.CLOSE then
    for ci,cf in pairs(callbacktbl.CLOSE) do
      cf()
    end
  end
  configtbl.settings.Warnings=spells_retrievewarnings()
  Ini.write('config.dat', configtbl)
end

OnPluginListChanged = function()
  if (atcp == nil) then
  atcp, reloaded = PPI.Load("7c08e2961c5e20e5bdbf7fc5")
  if not atcp then
    Note("ATCP funktioniert nicht!")
  elseif reloaded then
    atcp.Listen("Avalon.TP", OnAvalonTP)
    atcp.Listen("Avalon.SP", OnAvalonSP)
    atcp.Listen("Avalon.AP", OnAvalonAP)
    atcp.Listen("Avalon.MP", OnAvalonMP)
    atcp.Listen("Avalon.MAX", OnAvalonMax)
    atcp.Listen('Avalon.Level', OnAvalonLevel)
    atcp.Listen('Avalon.RoomID', OnAvalonRoomID)
    atcp.Listen('Avalon.Channel', OnAvalonChannel)
    atcp.Listen('Avalon.Dunkel', OnAvalonDunkel)
    atcp.Listen('Avalon.Kampf', OnAvalonKampf)
    atcp.Listen('Avalon.Getoetet', OnAvalonGetoetet)
    atcp.Listen('Avalon.GruppeGetoetet', OnAvalonGetoetet)
    atcp.Listen('Avalon.Gilde',OnAvalonGilde)
    atcp.Listen('Avalon.RComm',OnAvalonChannel)
    atcp.Listen('Avalon.Comm',OnAvalonComm)
    atcp.Listen('Avalon.Soul',OnAvalonSoul)
    atcp.Listen('Avalon.RSoul',OnAvalonRSoul)
    atcp.Listen('Avalon.GrafikVermeiden',OnAvalonGrafikVermeiden)
  end
  end
end

function play_tp(ntp)
  if (g_tp == nil) or (g_max_tp == nil) then
    return
  end
  if (configtbl.settings.TPBar == 0) then
    return
  end
  stopifplaying(htpsnd)
  percent = tonumber(ntp) / (tonumber(g_max_tp) / 100)
  if (ntp > g_tp) then
    htpsnd = psnd("Player/tpUp.ogg", 2 * math.floor(percent) - 100)
    tpfullannounced = false
  elseif (ntp < g_tp) then
    htpsnd = psnd("Player/tpDown.ogg", 2 * math.floor(percent) - 100)
    tpfullannounced = false
  end
  if (ntp == g_max_tp) and (tpfullannounced == false) then
    psnd("Player/tpMax.ogg")
    tpfullannounced = true
  end
end

function play_sp(nsp)
  if (g_sp == nil) or (g_max_sp == nil) then
    return
  end
  if (configtbl.settings.SPBar == 0) then
    return
  end
  stopifplaying(hspsnd)
  percent = tonumber(nsp) / (tonumber(g_max_sp) / 100)
  if (nsp > g_sp) then
    hspsnd = psnd("Player/spUp.ogg", 2 * math.floor(percent) - 100)
    spfullannounced = false
  elseif (nsp < g_sp) then
    hspsnd = psnd("Player/spDown.ogg", 2 * math.floor(percent) - 100)
    spfullannounced = false
  end
  if (nsp == g_max_sp) and (spfullannounced == false) then
    psnd("Player/spMax.ogg")
    spfullannounced = true
  end
end

function play_ap(nap)
  if (g_ap == nil) or (g_max_ap == nil) then
    return
  end
  if (configtbl.settings.APBar == 0) then
    return
  end
  stopifplaying(hapsnd)
  percent = tonumber(nap) / (tonumber(g_max_ap) / 100)
  if (nap > g_ap) then
    hapsnd = psnd("Player/apUp.ogg", 2 * math.floor(percent) - 100)
    apfullannounced = false
  elseif (nap < g_ap) then
    hapsnd = psnd("Player/apDown.ogg", 2 * math.floor(percent) - 100)
    apfullannounced = false
  end
  if (nap == g_max_ap) and (apfullannounced == false) then
    psnd("Player/apMax.ogg")
    apfullannounced = true
  end
end

function stopifplaying(id)
  if (id == nil) then
    return false
  end
  res = Audio.isPlaying(id)
  if (res == 1) then
    Audio.stop(id)
    return true
  end
end

function psnd(file, pan)
  pan = pan or 0
  if (configtbl.settings.SoundsMuted == 1) then
    return
  end
  if(not Path.isabs(file)) then
    file=GetInfo(67)..'Sounds/'..file
  end
  return Audio.play(file, 0, pan, configtbl.settings.SoundVolume)
end

function pmusic(file)
  if (configtbl.settings.MusicMuted == 1) then
    return
  end
  if(not Path.isabs(file)) then
    file=GetInfo(67)..'Sounds/Music/'..file
  end
  stopifplaying(hmusic)
  hmusic = Audio.play(file, 1, 0, configtbl.settings.MusicVolume)
end

function speedwalk_start(spd)
  if (spd == '') or (string.find(spd, '_') == nil) then
    speedwalk_list(spd)
    return
  end
  if (speedwalklist[spd] == nil) then
    world.Note("Es existiert kein Speedwalk mit diesem Namen.")
    if (string.find(spd, '_us') ~= nil or string.find(spd, 'us_') ~= nil) then
      world.Note("Hinweis: Die Station 'us' wurde in vielen Speedwalks nach 'zwerge' umbenannt (z.B. min_zwerge statt min_us).")
      world.Note("Die Station 'us' bezieht sich ausschlielich auf Usagoor.")
    end
    return
  end
  if (configtbl.settings.SafeSpeedwalks == 1) then
    if not stations[spd] then
      world.Note("Dieser Speedwalk muss nach dem alten System umgesetzt werden.")
      spdstationstbl[#spdstationstbl+1] = ''
      speedwalk_init(speedwalklist[spd])
      return
    end
    spdstationstbl[#spdstationstbl+1] = stations[spd]
    speedwalk_init(speedwalklist[spd])
  else
    spdstationstbl[#spdstationstbl+1] = nil
    speedwalk_init(speedwalklist[spd])
  end
end

function speedwalk_list(spd)
  if (spd == '') then
    msg = ''
    i = 0
    for name, way in pairsByKeys(speedwalklist) do
      i = i + 1
      msg = msg..'\t'..name
      if (speedwalksafety[name]) then
        msg = msg..' (sicher)'
      else
        msg = msg..' (unsicher)'
      end
      msg = msg..'\n'
    end
    msg = 'Speedwalk-Liste ('..tostring(i)..'):\n'..msg
    msg = string.sub(msg, 1, -2)
  else
    spd = string.lower(spd)
    msg = ''
    i = 0
    for name, way in pairsByKeys(speedwalklist) do
      sname = utils.split(name, '_')
      if (string.lower(sname[1]) == spd) then
        i = i + 1
        msg = msg..'\t'..name
        if (speedwalksafety[name]) then
          msg = msg..' (sicher)'
        else
          msg=msg..' (unsicher)'
        end
        msg = msg..'\n'
      end
    end
    if (i == 0) then
      msg = 'Es sind keine Speedwalks vorhanden, die von '..spd..' starten.'
    else
      msg = 'Speedwalks, die von '..spd..' starten ('..tostring(i)..'):\n'..msg
      msg = string.sub(msg, 1, -2)
    end
  end
  world.Note(msg)
end

function speedwalk_init(speedwalk)
  if not spdactive then
    spdtbl = {}
    spdtbl[#spdtbl+1] = utils.split(speedwalk, " ")
    spdstationstbl = {spdstationstbl[#spdstationstbl]}
    spdind = {1,1}
    spdactive = true
    speedwalk_process()
  else
    spdtbl[#spdtbl+1] = utils.split(speedwalk, " ")
    world.Note("Der neue Speedwalk wurde an den momentan laufenden angehngt.")
  end
end

function speedwalk_process()
  if (configtbl.settings.SafeSpeedwalks == 1) and (spdind[2] == 1) and (spdstationstbl[spdind[1]] ~= '') then
    if (Dunkel == 1) then
      world.Note("Um sichere Speedwalks nutzen zu knnen, muss es auf dem Feld hell sein. Umschalten kannst Du das immer mit der F5-Taste.")
      spdactive = false
      return
    end
    if (RoomID ~= spdstationstbl[spdind[1]]) and (spdstationstbl[spdind[1]] ~= '') then
      world.Note("Der Speedwalk startet hier nicht.")
      spdactive = false
      return
    end
  end
  if not spdactive then
    return
  end
  command = string.gsub(spdtbl[spdind[1]][spdind[2]], '_', ' ')
  world.Execute(command)
  spdind = {spdind[1], spdind[2]+1}
  if (spdind[2] == #spdtbl[spdind[1]] + 1) then
    if not spdtbl[spdind[1]+1] then
      spdactive = false
      spdind = {0,0}
      return
    else
      spdind = {spdind[1] + 1,1}
    end
  end
  if (string.len(spdtbl[spdind[1]][spdind[2]]) <= 2) then
    DoAfterSpecial(spdspeed, "speedwalk_process()", 12)
  else
    DoAfterSpecial(spdextraspeed, "speedwalk_process()", 12)
  end
end

function speedwalk_break()
  if spdactive then
    spdactive = false
  else
    if (spdind[1] == 0) and (spdind[2] == 0) then
      return
    end
    if not spdtbl[spdind[1]][spdind[2]] then
      return
    end
    spdactive = true
    speedwalk_process()
  end
end

function speedwalk_breaklegs()
  if (spdind[1] == 0) and (spdind[2] == 0) then
    return
  end
  spdactive = false
  spdind = {spdind[1],spdind[2]-2}
end

function tts_switch()
  world.UnloadPlugin(configtbl.settings.ScreenReader)
  if (configtbl.settings.ScreenReader == "MushReader") then
    configtbl.settings.ScreenReader = 'tts_jfw'
  else
    configtbl.settings.ScreenReader = 'MushReader'
  end
  world.LoadPlugin(world.GetInfo(60)..'/'..configtbl.settings.ScreenReader..'.xml')
  world.Note('Ausgabesystem gendert.')
  psnd("Misc/ConfigSwitch.ogg")
end

function volume(value)
  if (volumetype == 1) then
    if (configtbl.settings.SoundVolume+value > 100) or (configtbl.settings.SoundVolume+value < 0) then
      return
    end
    configtbl.settings.SoundVolume = configtbl.settings.SoundVolume + value
    psnd("Misc/VolumeSwitch.ogg")
    world.Note("Sound-Lautstrke: "..tostring(configtbl.settings.SoundVolume).." %")
  elseif (volumetype == 2) then
    if (configtbl.settings.MusicVolume+value > 100) or (configtbl.settings.MusicVolume + value < 0) then
      return
    end
    configtbl.settings.MusicVolume = configtbl.settings.MusicVolume + value
    psnd("Misc/VolumeSwitch.ogg")
    if (hmusic) and (Audio.isPlaying(hmusic) == 1) then
      Audio.setVol(configtbl.settings.MusicVolume, hmusic)
    end
    world.Note("Hintergrund-Musik-Lautstrke: "..tostring(configtbl.settings.MusicVolume).." %")
  else
    if (configtbl.settings.CombatMusicVolume+value > 100) or (configtbl.settings.CombatMusicVolume + value < 0) then
      return
    end
    configtbl.settings.CombatMusicVolume = configtbl.settings.CombatMusicVolume + value
    psnd("Misc/VolumeSwitch.ogg")
    if (g_combat_music) and (Audio.isPlaying(g_combat_music) == 1) then
      Audio.setVol(configtbl.settings.CombatMusicVolume, g_combat_music)
    end
    world.Note("Kampf-Musik-Lautstrke: "..tostring(configtbl.settings.CombatMusicVolume).." %")
  end
end

function volumetype_switch()
  if (volumetype == 1) then
    volumetype = 2
    world.Note("Lautstrkeregelung fr Hintergrund-Musik.")
  elseif (volumetype == 2) then
    volumetype = 3
    world.Note("Lautstrkeregelung fr Kampf-Musik.")
  else    
    volumetype = 1
    world.Note("Lautstrkeregelung fr Sounds.")
  end
  psnd('Misc/ConfigSwitch.ogg')
end

function tpbar_switch()
  if (configtbl.settings.TPBar == 1) then
    configtbl.settings.TPBar = 0
    world.Note("TP-Ausgabe ausgeschaltet.")
  else
    configtbl.settings.TPBar = 1
    world.Note("TP-Ausgabe eingeschaltet.")
  end
  psnd("Misc/ConfigSwitch.ogg")
end

function apbar_switch()
  if (configtbl.settings.APBar == 1) then
    configtbl.settings.APBar = 0
    world.Note("AP-Ausgabe ausgeschaltet.")
  else
    configtbl.settings.APBar = 1
    world.Note("AP-Ausgabe eingeschaltet.")
  end
  psnd("Misc/ConfigSwitch.ogg")
end

function spbar_switch()
  if (configtbl.settings.SPBar == 1) then
    configtbl.settings.SPBar = 0
    world.Note("ZP-Ausgabe ausgeschaltet.")
  else
    configtbl.settings.SPBar = 1
    world.Note("ZP-Ausgabe eingeschaltet.")
  end
  psnd("Misc/ConfigSwitch.ogg")
end

function repeatcommand_switch()
  if (configtbl.settings.RepeatCommand == 1) then
    LastCommand=nil
    configtbl.settings.RepeatCommand = 0
    world.Note("Letztes Kommando mit Enter wiederholen ausgeschaltet.")
  else
    configtbl.settings.RepeatCommand = 1
    world.Note("Letztes Kommando mit Enter wiederholen eingeschaltet.")
  end
  psnd("Misc/ConfigSwitch.ogg")
end

function round(num, idp)
  return tonumber(string.format(" %." .. (idp or 0) .. "f", num))
end

function OnPluginDisconnect()
  g_tp = nil
  g_max_tp = nil
  g_sp = nil
  g_max_sp = nil
  g_ap = nil
  g_max_ap = nil
  apfullannounced = false
  tpfullannounced = false
  spfullannounced = false
  hapsnd = nil
  hspnil = 0
  htpsnd = nil
  LevelUpdate = false
  PlayerLevel = nil
  RoomName = ''
  stopifplaying(hmusic)
  hmusic = nil
end

function switch_mute()
  if (volumetype == 1) then
    if (configtbl.settings.SoundsMuted == 0) then
      configtbl.settings.SoundsMuted = 1
      world.Note("Sounds ausgeschaltet.")
    else
      configtbl.settings.SoundsMuted = 0
      world.Note("Sounds eingeschaltet.")
    end
  elseif (volumetype == 2) then
    if (configtbl.settings.MusicMuted == 0) then
      configtbl.settings.MusicMuted = 1
      stopifplaying(hmusic)
      RoomName = ''
      world.Note("Hintergrund-Musik ausgeschaltet.")
    else
      configtbl.settings.MusicMuted = 0
      atcp.Send('ava_req_mapper')
      world.Note("Hintergrund-Musik eingeschaltet.")
    end
  else
    if (configtbl.settings.CombatMusicMuted == 0) then
      configtbl.settings.CombatMusicMuted = 1
      stopifplaying(g_combat_music)
      world.Note("Kampf-Musik ausgeschaltet.")
    else
      configtbl.settings.CombatMusicMuted = 0
      world.Note("Kampf-Musik eingeschaltet.")
    end
  end
  psnd('Misc/ConfigSwitch.ogg')
end

function switch_fullmute()
  if (configtbl.settings.SoundsMuted == 0) then
    configtbl.settings.SoundsMuted = 1
    world.Note("Sounds ausgeschaltet.")
  else
    configtbl.settings.SoundsMuted = 0
    world.Note("Sounds eingeschaltet.")
  end
  if (configtbl.settings.MusicMuted == 0) then
    configtbl.settings.MusicMuted = 1
    stopifplaying(hmusic)
    RoomName = ''
    world.Note("Hintergrund-Musik ausgeschaltet.")
  else
    configtbl.settings.MusicMuted = 0
    atcp.Send('ava_req_mapper')
    world.Note("Hintergrund-Musik eingeschaltet.")
  end
  if (configtbl.settings.CombatMusicMuted == 0) then
    configtbl.settings.CombatMusicMuted = 1
    stopifplaying(g_combat_music)
    world.Note("Kampf-Musik ausgeschaltet.")
  else
    configtbl.settings.CombatMusicMuted = 0
    world.Note("Kampf-Musik eingeschaltet.")
  end
  psnd('Misc/ConfigSwitch.ogg')
end

function array_concat(...)
  local t = {}
  local arg ={...}
  for i = 1, #arg do
    local array = arg[i]
    if (type(array) == "table") then
      for j = 1, #array do
        t[#t+1] = array[j]
      end
    else
      t[#t+1] = array
    end
  end
  return t
end

function safespeedwalks_switch()
  if (configtbl.settings.SafeSpeedwalks == 1) then
    configtbl.settings.SafeSpeedwalks = 0
    world.Note("Die Speedwalks werden nicht mehr abgesichert.")
  else
    configtbl.settings.SafeSpeedwalks = 1
    world.Note("Die Speedwalks werden nun abgesichert.")
  end
  psnd("Misc/ConfigSwitch.ogg")
end

function print_position()
  if (Dunkel == 1) then
    world.Note("Fr diesen Raum konnten keine Informationen abgerufen werden, da es hier derzeit dunkel ist.")
    return
  end
  world.Note("Ort:\t"..RoomName)
  if (X and Y) then
    world.Note("Pos:\tX: "..tostring(X)..", Y: "..tostring(Y))
  end
  if (configtbl.settings.SafeSpeedwalks == 1) then
    list = stations_getspeedwalksbyroomid(RoomID)
    if (#list == 1) then
      msg = '\nVon hier startet ein Speedwalk:\n'
      for number, walk in pairs(list) do
        msg = msg..'\t'..walk
        if (speedwalksafety[walk]) then
          msg = msg..' (sicher)'
        else
          msg = msg..' (unsicher)'
        end
        msg = msg..'\n'
      end
      msg = string.sub(msg, 1, -2)
      world.Note(msg)
    end
    if (#list > 1) then
      msg = '\nVon hier starten '..#list..' Speedwalks:\n'
      for number, walk in pairs(list) do
        msg = msg..'\t'..walk
        if (speedwalksafety[walk]) then
          msg = msg..' (sicher)'
        else
          msg = msg..' (unsicher)'
        end
        msg = msg..'\n'
      end
      msg = string.sub(msg, 1, -2)
      world.Note(msg)
    end
  end
end

function rgbtohex(r, g, b)
  return r + (g * 256) + (b * 65536)
end

function NoteColour(text, rt, gt, bt, rb, gb, bb, style)
  if not rt then
    rt = 255
  end
  if not gt then
    gt = 255
  end
  if not bt then
    bt = 255
  end
  if not rb then
    rb = 0
  end
  if not gb then
    gb = 0
  end
  if not bb then
    bb = 0
  end
  world.NoteColourRGB(rgbtohex(rt, gt, bt), rgbtohex(rb, gb, bb))
  if style then
    world.NoteStyle(style)
  end
  world.Note(text)
  if style then
    world.NoteStyle(0)
  end
  world.NoteColourRGB(rgbtohex(255, 255, 255), 0)
end

function combat_music()
  if g_combat == nil or g_combat == false then
    if stopifplaying(g_combat_music) then
      if (hmusic) and (Audio.isPlaying(hmusic) == 1) then
        Audio.setVol(configtbl.settings.MusicVolume, hmusic)
      end
    end
    return
  end
  if g_tp == nil or g_max_tp == nil or configtbl.settings.CombatMusicMuted == 1 then
    return
  end
  percentage = g_tp / (g_max_tp / 100)
  if percentage >= 86 then
    music = "excellent.ogg"
  elseif percentage >= 72 then
    music = "scratches.ogg"
  elseif percentage >= 58 then
    music = "small wounds.ogg"
  elseif percentage >= 42 then
    music = "quite a few.ogg"
  elseif percentage >= 28 then
    music = "big nasty.ogg"
  elseif percentage >= 14 then
    music = "pretty hurt.ogg"
  elseif percentage >= 0 then
    music = "awful.ogg"
  end
  if g_combat_music_name == nil or music ~= g_combat_music_name then
    g_combat_music_name = music
    stopifplaying(g_combat_music)
  end
  if g_combat_music == nil or Audio.isPlaying(g_combat_music) == 0 then
    if (hmusic) and (Audio.isPlaying(hmusic) == 1) then
      Audio.setVol(0, hmusic)
    end
    g_combat_music = Audio.play(GetInfo(67)..'Sounds/Music/Combat/'..g_combat_music_name, 1, 0, configtbl.settings.CombatMusicVolume)
  end
end
function warnings_access(warn)
  if warn=='' then
    spells_printwarnings()
  else
    spells_togglewarnings(warn)
  end
end
function gildendummy(start)
return
end
function GetUnixTime()
world.CallPlugin(timepluginid,"time","")
rtime=world.GetPluginVariable(timepluginid,"AvalonUnixTime")
rtime=world.Replace(rtime,',','.',false)
return tonumber(rtime)
end
function NumpadInit()
if configtbl.settings.NumpadWalk==0 then
world.Accelerator('Numpad1','sw')
world.Accelerator('Numpad2','s')
world.Accelerator('Numpad3','so')
world.Accelerator('Numpad4','w')
world.Accelerator('Numpad6','o')
world.Accelerator('Numpad7','nw')
world.Accelerator('Numpad8','n')
world.Accelerator('Numpad9','no')
world.Accelerator('Add','r')
world.Accelerator('Subtract','h')
elseif configtbl.settings.NumpadWalk==2 then
world.Accelerator('Numpad1','spaehe kurz sw')
world.Accelerator('Numpad2','spaehe kurz s')
world.Accelerator('Numpad3','spaehe kurz so')
world.Accelerator('Numpad4','spaehe kurz w')
world.Accelerator('Numpad6','spaehe kurz o')
world.Accelerator('Numpad7','spaehe kurz nw')
world.Accelerator('Numpad8','spaehe kurz n')
world.Accelerator('Numpad9','spaehe kurz no')
world.Accelerator('Add','spaehe kurz h')
world.Accelerator('Subtract','spaehe kurz r')
elseif configtbl.settings.NumpadWalk==1 then
world.Accelerator('Numpad1','spaehe sw')
world.Accelerator('Numpad2','spaehe s')
world.Accelerator('Numpad3','spaehe so')
world.Accelerator('Numpad4','spaehe w')
world.Accelerator('Numpad6','spaehe o')
world.Accelerator('Numpad7','spaehe nw')
world.Accelerator('Numpad8','spaehe n')
world.Accelerator('Numpad9','spaehe no')
world.Accelerator('Add','spaehe h')
world.Accelerator('Subtract','spaehe r')
end
end
function NumpadSwitch()
if configtbl.settings.NumpadWalk==1 then
configtbl.settings.NumpadWalk=2
world.Note('Nummernblock auf kurzes Sphen konfiguriert')
psnd("Misc/NumPadScoutShort.ogg")
elseif configtbl.settings.NumpadWalk==2 then
configtbl.settings.NumpadWalk=0
world.Note('Nummernblock auf Laufen konfiguriert')
psnd("Misc/NumPadWalk.ogg")
elseif configtbl.settings.NumpadWalk==0 then
configtbl.settings.NumpadWalk=1
world.Note('Nummernblock auf langes Sphen konfiguriert')
psnd("Misc/NumPadScoutLong.ogg")
end
NumpadInit()
end

function config_graphics(enable,omit_output)
omit_output=omit_output or false
if enable then
if tonumber(world.GetOption("use_mxp"))==2 then
return
end
world.SetOption("use_mxp",2)
configtbl.settings.MXP=1
if not omit_output and not mxp_output then
world.Note("MXP ist nun aktiviert, wird von Avalon allerdings noch nicht gesendet. Um MXP korrekt verwenden zu knnen, muss der Client erst neu gestartet werden.")
mxp_output=true
end
else
if tonumber(world.GetOption("use_mxp"))==3 then
return
end
world.SetOption("use_mxp",3)
configtbl.settings.MXP=0
if not omit_output and not mxp_output then
world.Note("MXP ist nun deaktiviert. Damit der Text allerdings ohne strende Zeichen angezeigt werden kann, muss der Client einmalig neu gestartet werden.")
mxp_output=true
end
end
end
function hook_callback(event,callback)
if not callbacktbl[event] then
callbacktbl[event]={}
end
if Tablex.find(callbacktbl[event],callback) ~=nil then
return false
end
callbacktbl[event][#(callbacktbl[event])]=callback
return true
end
function unhook_callback(event,callback)
if callbacktbl[event]==nil then
return false
end
index=Tablex.find(callbacktbl[event],callback)
if index ~=nil then
callbacktbl[event]=Tablex.removevalues(callbacktbl[event],index,index)
return true
end
return false
end
]]>
</script>


</muclient>
